---
import PostLayout from '@layouts/PostLayout.astro'
import { getPosts } from '@services/cms'
import type { GetStaticPaths } from 'astro'

export const prerender = true
export const getStaticPaths = (async () => {
  const posts = await getPosts()
  return posts.docs.map((post: Post) => ({
    params: { post: post.slug },
    props: { post }
  }))
}) satisfies GetStaticPaths

interface Props {
  post: Post
}

const { post } = Astro.props
---

<PostLayout {post} />
